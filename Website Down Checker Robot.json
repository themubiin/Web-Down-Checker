{
  "name": "Website Down Checker Robot",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "minutes"
            }
          ]
        }
      },
      "id": "37640544-a4cf-44fb-bdec-1b33b773b8ab",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        368,
        240
      ],
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "b0cbcff5-bfcf-46a5-a386-65c4dd56c42f",
              "name": "date",
              "type": "string",
              "value": "={{ $json.headers.date }}"
            },
            {
              "id": "8c4155e4-bcc6-41dd-9582-346a57a7b997",
              "name": "website",
              "type": "string",
              "value": "={{ $('Split Out').item.json.Websites }}"
            },
            {
              "id": "9af72278-5b29-406a-b4c5-f47f3d805063",
              "name": "IS_UP",
              "type": "boolean",
              "value": "={{ $json.statusCode <= 400  }}"
            }
          ]
        },
        "options": {}
      },
      "id": "916ea745-93d3-4df0-bb42-92dbdc9096e2",
      "name": "Calculate Status",
      "type": "n8n-nodes-base.set",
      "position": [
        1600,
        208
      ],
      "typeVersion": 3.3
    },
    {
      "parameters": {
        "url": "={{ $json.Websites }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {}
          ]
        },
        "options": {
          "batching": {
            "batch": {}
          },
          "response": {
            "response": {
              "fullResponse": true,
              "neverError": true
            }
          }
        }
      },
      "id": "5d27ce2f-f7fd-41d1-b8b6-ffd3f006ae9f",
      "name": "Perform Site Test",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1104,
        256
      ],
      "typeVersion": 4.2,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "version": 1,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "7191e7cb-f2e1-4288-aa68-21f6efefafc5",
                    "operator": {
                      "type": "boolean",
                      "operation": "true",
                      "singleValue": true
                    },
                    "leftValue": "={{ $json.IS_UP }}",
                    "rightValue": ""
                  }
                ]
              },
              "renameOutput": true,
              "outputKey": "UP"
            },
            {
              "conditions": {
                "options": {
                  "version": 1,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "e07edddc-70be-46ed-9f5c-7fba0ed52bc3",
                    "operator": {
                      "type": "boolean",
                      "operation": "false",
                      "singleValue": true
                    },
                    "leftValue": "={{ $json.IS_UP }}",
                    "rightValue": ""
                  }
                ]
              },
              "renameOutput": true,
              "outputKey": "DOWN"
            }
          ]
        },
        "options": {}
      },
      "id": "3591075f-9475-498a-a4ea-e4231feaa1ce",
      "name": "Status Router",
      "type": "n8n-nodes-base.switch",
      "position": [
        1840,
        240
      ],
      "typeVersion": 3
    },
    {
      "parameters": {
        "fieldToSplitOut": "Websites",
        "options": {}
      },
      "id": "b05da316-3fc1-4322-bd9d-be780e348256",
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        880,
        368
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "72b729c6-e0af-46f0-955f-c649e9d397bc",
              "name": "Websites",
              "type": "string",
              "value": "=https://google.com\nhttps://bad.url\nhttps://webdextro.org"
            },
            {
              "id": "25457f32-6440-404d-8e99-eb772e552982",
              "name": "wait_secs",
              "type": "number",
              "value": 5
            },
            {
              "id": "4f646a6a-3f84-4410-bed2-3b0d770066c7",
              "name": "telegram_chat_id",
              "type": "string",
              "value": "chat Id here!"
            },
            {
              "id": "5ea1be97-40ce-4696-9454-ecb17127e674",
              "name": "alert_email",
              "type": "string",
              "value": "you@example.com"
            }
          ]
        },
        "options": {}
      },
      "id": "071ec250-71c8-4091-9f82-7f987f582d77",
      "name": "Config",
      "type": "n8n-nodes-base.set",
      "position": [
        576,
        240
      ],
      "typeVersion": 3.4
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "ce076f11-d745-43a9-8069-a55759ceb0c9",
              "name": "Websites",
              "type": "array",
              "value": "={{\n  // we split by line, and only keep non-empty lines\n  $json.Websites.split('\\n').filter((url) => url)\n}}"
            }
          ]
        },
        "options": {}
      },
      "id": "fd4c06eb-e851-4759-869d-9b35429e42c0",
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "position": [
        816,
        128
      ],
      "typeVersion": 3.4
    },
    {
      "parameters": {},
      "id": "1437a14a-cbac-487a-8a89-edc37496348d",
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "position": [
        1392,
        208
      ],
      "typeVersion": 3.2
    },
    {
      "parameters": {
        "amount": "={{ $('Config').item.json.wait_secs }}"
      },
      "id": "8af693e1-b9d9-4bb9-8276-72760ab9133e",
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "position": [
        2128,
        288
      ],
      "webhookId": "eeedbd07-c2f9-409f-b0b5-a3a764d9d51e",
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "b0cbcff5-bfcf-46a5-a386-65c4dd56c42f",
              "name": "date",
              "type": "string",
              "value": "={{ $json.headers.date }}"
            },
            {
              "id": "8c4155e4-bcc6-41dd-9582-346a57a7b997",
              "name": "website",
              "type": "string",
              "value": "={{ $('Split Out').item.json.Websites }}"
            },
            {
              "id": "9af72278-5b29-406a-b4c5-f47f3d805063",
              "name": "IS_UP",
              "type": "boolean",
              "value": "={{ $json.statusCode <= 400  }}"
            }
          ]
        },
        "options": {}
      },
      "id": "60e797ef-cb3e-41e5-833b-f1f167735416",
      "name": "Calculate Status1",
      "type": "n8n-nodes-base.set",
      "position": [
        1760,
        512
      ],
      "typeVersion": 3.3
    },
    {
      "parameters": {
        "url": "={{ $json.Websites }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {}
          ]
        },
        "options": {
          "batching": {
            "batch": {}
          },
          "response": {
            "response": {
              "fullResponse": true,
              "neverError": true
            }
          }
        }
      },
      "id": "60de7380-2539-4885-b2c3-8bdd25d92fd3",
      "name": "Perform Site Test1",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1280,
        512
      ],
      "typeVersion": 4.2,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {},
      "id": "a3578c1f-59b1-441a-b546-ee56126522e3",
      "name": "Merge1",
      "type": "n8n-nodes-base.merge",
      "position": [
        1536,
        512
      ],
      "typeVersion": 3.2
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "version": 1,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "7191e7cb-f2e1-4288-aa68-21f6efefafc5",
                    "operator": {
                      "type": "boolean",
                      "operation": "true",
                      "singleValue": true
                    },
                    "leftValue": "={{ $json.IS_UP }}",
                    "rightValue": ""
                  }
                ]
              },
              "renameOutput": true,
              "outputKey": "UP"
            },
            {
              "conditions": {
                "options": {
                  "version": 1,
                  "leftValue": "",
                  "caseSensitive": true,
                  "typeValidation": "strict"
                },
                "combinator": "and",
                "conditions": [
                  {
                    "id": "e07edddc-70be-46ed-9f5c-7fba0ed52bc3",
                    "operator": {
                      "type": "boolean",
                      "operation": "false",
                      "singleValue": true
                    },
                    "leftValue": "={{ $json.IS_UP }}",
                    "rightValue": ""
                  }
                ]
              },
              "renameOutput": true,
              "outputKey": "DOWN"
            }
          ]
        },
        "options": {}
      },
      "id": "b9376336-dde1-4aa0-a9df-d8a50a257de1",
      "name": "Status Router1",
      "type": "n8n-nodes-base.switch",
      "position": [
        1984,
        512
      ],
      "typeVersion": 3
    },
    {
      "parameters": {
        "content": ".\n.\n.\n.\n.\n.\n.\n\n## Add Email credentials (SMTP) here.\n    Port: 465\n### for Gmail Server: mail.google.com",
        "height": 356,
        "width": 328
      },
      "id": "47a68788-0158-4488-8f0f-305b52ca64e2",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1136,
        784
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "##  Add your websites here\n.\n.\n.\n.\n.\n.\n.\n.\n.\n### Also add your Telegram Chat ID and Mail Address here",
        "height": 352,
        "width": 224,
        "color": 3
      },
      "id": "872f9a1b-95b9-4d1e-aac5-35f9314942d1",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        512,
        144
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "chatId": "={{ $('Config').item.json.telegram_chat_id }}",
        "text": "={{ $('Calculate Status').item.json.website }} is DOWN.\nFrom: n8n uptime",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "id": "2a8bcb6d-9692-4206-92ed-a70bd4fd8dc2",
      "name": "Send a text message",
      "type": "n8n-nodes-base.telegram",
      "position": [
        1552,
        800
      ],
      "webhookId": "79cd546b-5eab-4505-8ced-2cd1175ce61a",
      "typeVersion": 1.2,
      "credentials": {
        "telegramApi": {
          "id": "4Mw1E13pEAcZ2Eem",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "content": "# Instructions; Telegram bot\n\n1. **Create your Telegram bot**  \n   1. Open Telegram and chat with **@BotFather**.  \n   2. Send `/newbot` and follow prompts to pick a bot **name** and **username** (must end in â€œbotâ€).  \n   3. Copy the **bot token** returned by BotFather.\n\n2. **Start a conversation & get the chat ID**  \n   1. In Telegram, find your bot by username (e.g. `@my_alert_bot`) and send it a message (e.g. `/start`).  \n   2. In your browser, visit:  \n      ```\n      https://api.telegram.org/bot<Token>/getUpdates\n      ```  \n   3. Locate `\"chat\":{\"id\":123456789}` in the JSON and copy that number as your **chat_id**.\n\n3. **Add Telegram settings in n8n**  \n   - In your workflow, click on the **Telegram** node.  \n   - Under **Credentials**, select **Create New** â†’ **Telegram Bot API**, and paste your **bot token**.  \n   - In the **Config nodeâ€™s** **telegram_chat_id** field, enter the numeric **chat_id** you retrieved.\n\nThatâ€™s it! Your n8n workflow now sends notifications via both Gmail and Telegram.\n",
        "height": 524,
        "width": 760
      },
      "id": "3a5369af-1538-4191-b463-4dcc674dc876",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        352,
        576
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## Made by:\n # Muntasir Mubin\n### The Founder & CEO of WebDextro Ltd, a distinguished Web & App development company based in the United Kingdom.\n\nðŸ“§ mubin@webdextro.org\nðŸ“ž [Follow on Facebook](https://fb.me/the.mubiin)\nðŸ’¼ [Add me on Linkedin](https://www.linkedin.com/in/mubiiin/)\n",
        "height": 312,
        "width": 456,
        "color": 5
      },
      "id": "46ae7a40-6352-401c-9919-cc211d79fb50",
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1760,
        784
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "fromEmail": "info@mubin.eu",
        "toEmail": "muntasirmubin225@gmail.com",
        "subject": "Website Down",
        "html": "<!doctype html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\" />\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <title>Website Down Notification</title>\n</head>\n<body style=\"margin:0;padding:0;background:#f2f4f6;font-family:Arial,Helvetica,sans-serif;\">\n  <!-- Container -->\n  <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"max-width:600px;margin:24px auto;background:#ffffff;border-radius:6px;overflow:hidden;box-shadow:0 2px 6px rgba(0,0,0,0.08);\">\n    <tr>\n      <td style=\"padding:18px 20px;background:#0b69ff;color:#ffffff;text-align:center;\">\n        <h1 style=\"margin:0;font-size:20px;\">Website Offline Alert</h1>\n      </td>\n    </tr>\n\n    <tr>\n      <td style=\"padding:20px;\">\n        <p style=\"margin:0 0 12px 0;color:#333333;font-size:15px;line-height:1.5;\">\n          Hello <strong>{{Recipient Name}}</strong>,\n        </p>\n\n        <p style=\"margin:0 0 12px 0;color:#333333;font-size:15px;line-height:1.5;\">\n          We wanted to let you know that <strong>{{YourWebsite.com}}</strong> is currently <strong>unavailable</strong>. Our team has been notified and is investigating the issue.\n        </p>\n\n        <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin:12px 0;\">\n          <tr>\n            <td style=\"padding:10px;background:#f7f9fc;border:1px solid #eef1f6;border-radius:6px;font-size:14px;color:#333;\">\n              <strong>Incident:</strong> Website unreachable<br>\n              <strong>Detected at:</strong> {{YYYY-MM-DD HH:MM}}<br>\n              <strong>Estimated fix:</strong> {{If known, e.g. ~30 minutes}} or \"Under investigation\"\n            </td>\n          </tr>\n        </table>\n\n        <p style=\"margin:12px 0;color:#333333;font-size:15px;line-height:1.5;\">\n          We apologize for the inconvenience. You can reply to this email or contact our support:\n        </p>\n\n        <p style=\"margin:0 0 18px 0;color:#333333;font-size:15px;line-height:1.5;\">\n          Phone: <a href=\"tel:+880XXXXXXXXXX\" style=\"color:#0b69ff;text-decoration:none;\">+880XXXXXXXXXX</a><br>\n          Email: <a href=\"mailto:support@yourwebsite.com\" style=\"color:#0b69ff;text-decoration:none;\">support@yourwebsite.com</a>\n        </p>\n\n        <div style=\"text-align:center;margin-bottom:8px;\">\n          <a href=\"{{status_page_url}}\" style=\"display:inline-block;padding:10px 18px;border-radius:6px;text-decoration:none;background:#0b69ff;color:#fff;font-weight:600;font-size:14px;\">\n            Check Status Page\n          </a>\n        </div>\n\n        <p style=\"margin:0;color:#777;font-size:13px;line-height:1.4;\">\n          Thank you,<br>\n          The <strong>{{YourCompanyName}}</strong> Team\n        </p>\n      </td>\n    </tr>\n\n    <tr>\n      <td style=\"padding:12px 20px;background:#fafbfc;color:#99a1ab;font-size:12px;text-align:center;\">\n        This is an automated message. Please do not reply to this address.\n      </td>\n    </tr>\n  </table>\n\n  <!-- Plain-text fallback (for clients that ignore HTML) -->\n  <div style=\"display:none;font-size:1px;color:#ffffff;line-height:1px;max-height:0;max-width:0;opacity:0;overflow:hidden;\">\n    [ALERT] {{YourWebsite.com}} is currently unavailable. Detected at {{YYYY-MM-DD HH:MM}}. Contact: support@yourwebsite.com\n  </div>\n</body>\n</html>\n",
        "options": {}
      },
      "type": "n8n-nodes-base.emailSend",
      "typeVersion": 2.1,
      "position": [
        1344,
        800
      ],
      "id": "e515675c-be99-456d-a384-038cd815b379",
      "name": "Send email",
      "webhookId": "80fd5de1-da4b-49c0-8bd8-8638ae5c3bbf",
      "credentials": {
        "smtp": {
          "id": "oKvqhsJ222ZhF1oB",
          "name": "SMTP account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Wait": {
      "main": [
        [
          {
            "node": "Perform Site Test1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Calculate Status",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Config": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "Calculate Status1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Perform Site Test",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Status Router": {
      "main": [
        [],
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Status Router1": {
      "main": [
        [],
        [
          {
            "node": "Send email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Calculate Status": {
      "main": [
        [
          {
            "node": "Status Router",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Config",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Calculate Status1": {
      "main": [
        [
          {
            "node": "Status Router1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Perform Site Test": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Perform Site Test1": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Send email": {
      "main": [
        [
          {
            "node": "Send a text message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "c1fa188f-8769-46ea-8611-96cd08909cd8",
  "meta": {
    "templateId": "5887",
    "templateCredsSetupCompleted": true,
    "instanceId": "5e53dd468568ae771cc33e6bfb8e73dec30df4d4a0938936783f754d4495b58d"
  },
  "id": "C2H30nZSobkGC5ni",
  "tags": [
    {
      "updatedAt": "2025-12-11T12:28:51.171Z",
      "createdAt": "2025-12-11T12:28:51.171Z",
      "id": "TX1jqCYYJtunXrN6",
      "name": "Muntasir Mubin"
    }
  ]
}